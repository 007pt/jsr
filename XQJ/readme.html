<!-- (c) 2003, 2006, 2007, Oracle. All rights reserved. -->

<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <title>XQJ TCK</title>
</head>
<body style="background-color: rgb(255, 255, 255);">
<h2>1. Introduction</h2>
XQJ TCK is the <a href="http://www.jcp.org/en/resources/tdk">
Technology Compatibility Kit (TCK)</a> for
<a href="http://www.jcp.org/en/jsr/detail?id=225">XQuery API for Java
(XQJ)</a>.<br>
<br>
This TCK is used to test whether or not an XQJ implementation
complies with the XQJ specification.<br>
<h2>2. Requirements</h2>
XQJ TCK requires the following Java technologies:
<ul>
  <li>A Java Runtime Environment (JRE) 1.4 or higher.<br/>
Note that some XQJ implementation may require a higher version of the
Java Runtime Environment. For example the XQJ Reference Implementation
requires JRE 5.0 or higher.</li>
  <li>An implementation of <a
 href="http://www.jcp.org/en/jsr/detail?id=225">XQuery API for
Java (XQJ)</a> to be tested.</li>
  <li><a href="http://www.junit.org/">JUnit 3.8.x</a> or higher.</li>
</ul>
<h2>3. Installation</h2>
Simply unpack the downloaded binary distribution into root directory as
<b>/xqjtck</b>.<br>
<br>
You will see the following files and directories inside:
<ul>
  <li><b>readme.html</b>.</li>
  <li><b>doc/</b></li>
  <ul>
    <li><b>assertions.html/</b>, documentation of assertions
    used within this TCK.</li>
    <li><b>coverage.html</b>, test coverage of this TCK.</li>
  </ul>
  <li><b>examples/</b></li>
  <ul>
    <li><b>ri.properties</b>, example properties file for the
XQJ Reference Implementation.</li>
  </ul>
  <li><b>lib/</b>, the directory with the jar file of this TCK.</li>
  <li><b>src/</b>, the directory with the source code of this TCK.</li>
</ul>
<h2>4. Running TCK</h2>
<h3>4.1 Configuring the XQDataSource properties file</h3>
This TCK will look for a properties file specifying the XQDataSource
class of the XQJ implementation to test.
Additional properties for this specific implementation can be added to
the properties file. The examples directory in your TCK implementation
includes an example properties file for the XQJ Reference Implementation.<p/>
<pre>
XQDataSourceClassName = oracle.xquery.xqj.OXQDataSource
</pre><p/>
Note that the XQJ Reference Implementation does not require any additional
properties.<p>
Assume the XQJ implementation to test has an XQDataSource implementation
org.example.ExampleDataSource, requiring two properties 'ServerName' and
'PortNumber'. The properties may look as follows,<p/><pre>
XQDataSourceClassName = org.example.ExampleDataSource
ServerName = www.example.org
PortNumber = 1234
</pre>
<h3>4.2 Setting up classpath</h3>
Include the following jar files in your classpath:<br>
<ul>
  <li><code><i><tckdir></i>/lib/xqjtck.jar</code>.</li>
  <li><code>junit.jar</code> of JUnit.</li>
  <li>all required jar files for the XQJ implementation to be tested. This includes the jar file with the XQJ interfaces and classes, <code>xqjapi.jar</code>.</li>
</ul>
<h3>4.3 Starting the test suite</h3>
To start running this TCK, you would execute the following statement:<p/>
<code>java -Dcom.oracle.xqj.tck.datasource=<i>your_xqdatasource_file.properties</i> com.oracle.xqj.tck.AllTests</code><p/>
The test results are written to standard out by default.
<h3>4.5 Reading the test results</h3>
An XQJ implementation compliant with the XQJ specification reports no errors, neither
failures. Running the TCK with the RI yields  the following results (The time might differ),
<pre>
.........................................
.........................................
.........................................
.........................................
.........................................
.........................................
..........
Time: 3.338

OK (256 tests)
</pre>
<h2>5. Compatibility Requirements</h2>
This section describes the compatibility requirements for XQJ. These rules apply for each version of an
operating system, software component, hardware platform and product setting documented as supported by
the product.<p/> 
The compatibility requirements are as follows.
<ul>
<li>Pass all test of the TCK.</li>
<li>Comply with the requirements outlined in chapter "3 Compliance" of the XQJ specification (PDF).</li>
</ul>
<h2>6. Appeals Process</h2>
Any JSR 225 TCK licensee (Licensee) may submit an appeal of any test (including test results) in the TCK.  Appeals that
will be considered are limited to the following categories:
<ol>
<li>Licensee may assert that a test is in error (for example, program logic errors).</li>
<li>Licensee may assert that some specification assertion covered by the test is ambiguous. 
    This includes assertions that some test assumes one interpretation of some part of the specification,
    but at least one additional valid interpretation is possible and that such other interpretation(s)
    would require a different test or a different result from the same test.</li>
<li>Licensee may assert that the test does not match the specification.  This includes assertions that some
    test returns an incorrect result according to the specification.</li>
</ol><p/> 
No appeal will be considered that is unrelated to technical correctness.<p/> 
The Maintenance Lead has complete authority to interpret the specification and rule on each challenge.<br/> 
The process that must be followed to ensure proper consideration and acknowledgement involves several steps. 
<ol>
<li>Licensee writes a test challenge and submits it by email addressed to jsr-225-comments@jcp.org, specifying all of the following:<br/>
    a) The name, address, telephone number, email address, and affiliation of Licensee or designated Licensee contact.<br/> 
    b) A very brief statement of the nature of the appeal.<br/>
    c) Identification of the test or tests to which the appeal is related.<br/> 
    d) A clear statement of the problem, including error messages returned, incorrect answers along with the putative correct answers,
    code fragments that demonstrate the error, and other supporting material that Licensee believes will assist the appeal.  If the
    appeal suggests a revision of the test itself, it would be helpful if Licensee would submit the complete rewritten test; this is,
    however, not a requirement for submission of an appeal. 
</li>
<li>The JSR 225 Maintenance Lead (Lead), upon receipt of the challenge send to the address specified above, will acknowledge the
    challenge within 21 days and record it in a log maintained by Lead.  The acknowledgement will include one of the following
    pieces of information:<br/>
    a) A date, no later than 30 days following the date of the acknowledgement, by which the appeal will have been formally considered
    and a definitive response sent to the licensee.  A preliminary response indicating Lead's initial reaction to the challenge or
    requesting additional information may be part of such an acknowledgement.<br/>
    b) A definitive response to the challenge specifying either that the challenge has been accepted and a revised test is being
    prepared, or that the challenge is rejected for a reason specified in the response. 
</li>
<li>If the challenge acknowledgement does not include a definitive response, then Lead will, within 30 days of the acknowledgement,
    issue a definitive response to the licensee.  If the response requires creation of a new test or modification of an existing test,
    that test or tests will be made available, before the response has been transmitted, at a URI linked from the official JSR 225
    page, <a href="http://www.jcp.org/en/jsr/detail?id=225">http://www.jcp.org/en/jsr/detail?id=225</a>.  If the response requires
    the removal of one or more tests from the TCK, Lead will place the test or tests on an Exclude List for that version of the JSR
    225 TCK (effectively removing the test(s) from the Test Suite); that Exclude List will be made available, before the response
    has been transmitted, at the URI cited above.</li>
<li>If Licensee is not satisfied by the definitive response, a dialog may be initiated with Lead.  Alternatively, Licensee may appeal
    directly to the Java Community Process by sending email to the JCP Executive Committee as specified by section 4.3.1 of the JCP 2
    Process Document located at http://www.jcp.org/en/procedures/jcp2. </li>
</ol>
<h2>7. Test Coverage</h2>
See <a href="doc/coverage.html">here</a> for details.
</body>
<h2>8. Assertions</h2>
See <a href="doc/assertions.html">here</a> for details.
</body>
</html>
